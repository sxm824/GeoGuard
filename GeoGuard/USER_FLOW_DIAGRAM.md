# GeoGuard User Flow Diagram

## ğŸ¯ Quick Visual Reference

---

## Flow 1: Company Owner (First User)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    COMPANY OWNER FLOW                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ“± Download GeoGuard
           â”‚
           â–¼
    ğŸ¢ Tap "Register Your Organization"
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SINGLE FORM WITH:                  â”‚
    â”‚                                     â”‚
    â”‚  Company Info:                      â”‚
    â”‚  â€¢ Company Name                     â”‚
    â”‚  â€¢ Domain (optional)                â”‚
    â”‚  â€¢ Address                          â”‚
    â”‚  â€¢ Subscription Tier                â”‚
    â”‚                                     â”‚
    â”‚  Your Admin Account:                â”‚
    â”‚  â€¢ Email                            â”‚
    â”‚  â€¢ Password                         â”‚
    â”‚  â€¢ Name                             â”‚
    â”‚  â€¢ Phone                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    ğŸ’¾ Tap "Create Company"
           â”‚
           â–¼
    âœ… BOTH CREATED TOGETHER:
       1. Tenant/Organization
       2. Admin User Account
           â”‚
           â–¼
    ğŸ‰ Logged in automatically!
           â”‚
           â–¼
    ğŸ“Š Admin Dashboard
       â”‚
       â”œâ”€â†’ Create Invitations
       â”œâ”€â†’ Manage Users
       â”œâ”€â†’ Company Settings
       â””â”€â†’ View Analytics
```

---

## Flow 2: Employee (Invited User)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      EMPLOYEE FLOW                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ‘¤ Admin creates invitation
           â”‚
           â–¼
    ğŸ« Code generated: "ABC12XYZ"
           â”‚
           â–¼
    ğŸ“§ You receive code
       (text/email/chat)
           â”‚
           â–¼
    ğŸ“± Download GeoGuard
           â”‚
           â–¼
    ğŸ“ Sign Up Screen
           â”‚
           â–¼
    ğŸ”‘ Enter invitation code: "ABC12XYZ"
           â”‚
           â–¼
    âœ“ Tap "Validate"
           â”‚
           â–¼
    âœ… "Valid invitation for Field Personnel"
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Fill in YOUR info:                 â”‚
    â”‚  â€¢ Email                            â”‚
    â”‚  â€¢ Password                         â”‚
    â”‚  â€¢ Name                             â”‚
    â”‚  â€¢ Phone                            â”‚
    â”‚  â€¢ Address                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    ğŸ’¾ Tap "Sign Up"
           â”‚
           â–¼
    âœ… AUTOMATICALLY:
       â€¢ Joined company
       â€¢ Role assigned
       â€¢ Invitation marked "used"
           â”‚
           â–¼
    ğŸ‰ Logged in automatically!
           â”‚
           â–¼
    ğŸ“± Your Dashboard
       (based on role)
```

---

## Flow 3: Admin Creating Invitations

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ADMIN CREATING INVITATION FLOW                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ” Login as Admin
           â”‚
           â–¼
    ğŸ“Š Admin Dashboard
           â”‚
           â–¼
    â• Tap "Create Invitation"
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Invitation Settings:               â”‚
    â”‚                                     â”‚
    â”‚  â€¢ Select Role:                     â”‚
    â”‚    â—‹ Field Personnel               â”‚
    â”‚    â—‹ Manager                        â”‚
    â”‚    â—‹ Admin                          â”‚
    â”‚                                     â”‚
    â”‚  â€¢ Specific Email (optional):      â”‚
    â”‚    [john@company.com]              â”‚
    â”‚                                     â”‚
    â”‚  â€¢ Expires in:                     â”‚
    â”‚    [7 days] â–¼                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    ğŸ’¾ Tap "Generate"
           â”‚
           â–¼
    ğŸ« Code Created: "ABC12XYZ"
           â”‚
           â–¼
    ğŸ“‹ Tap Copy Icon
           â”‚
           â–¼
    ğŸ“§ Share via:
       â€¢ Text Message
       â€¢ Email
       â€¢ Slack/Teams
       â€¢ Any messaging app
           â”‚
           â–¼
    âœ… Done!
       Code valid for 7 days
```

---

## Architecture Overview

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   MULTI-TENANT STRUCTURE                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸŒ Firebase Project
           â”‚
           â”œâ”€â”€â”€ ğŸ¢ Company A (Tenant: acme-logistics)
           â”‚         â”‚
           â”‚         â”œâ”€â”€â”€ ğŸ‘¤ Admin: Sarah
           â”‚         â”œâ”€â”€â”€ ğŸ‘¤ Manager: John
           â”‚         â”œâ”€â”€â”€ ğŸ‘¤ Driver: Mike
           â”‚         â””â”€â”€â”€ ğŸ‘¤ Driver: Lisa
           â”‚
           â”œâ”€â”€â”€ ğŸ¢ Company B (Tenant: beta-delivery)
           â”‚         â”‚
           â”‚         â”œâ”€â”€â”€ ğŸ‘¤ Admin: David
           â”‚         â”œâ”€â”€â”€ ğŸ‘¤ Manager: Emma
           â”‚         â””â”€â”€â”€ ğŸ‘¤ Driver: Tom
           â”‚
           â””â”€â”€â”€ ğŸ¢ Company C (Tenant: gamma-trans)
                     â”‚
                     â”œâ”€â”€â”€ ğŸ‘¤ Admin: Alice
                     â””â”€â”€â”€ ğŸ‘¤ Driver: Bob

    âœ… Each company's data is COMPLETELY ISOLATED
    âŒ Company A users CANNOT see Company B data
    ğŸ”’ Enforced by Firestore Security Rules
```

---

## Data Relationships

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  DATA MODEL DIAGRAM                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ“ Tenant
       â”œâ”€ id: "acme-logistics"
       â”œâ”€ name: "Acme Logistics"
       â”œâ”€ domain: "acme.com"
       â””â”€ subscriptionTier: "professional"
              â”‚
              â”‚ (1 tenant â†’ many users)
              â”‚
              â–¼
    ğŸ“ Users
       â”œâ”€ User 1
       â”‚  â”œâ”€ tenantId: "acme-logistics" â—„â”€â”€ Links to tenant
       â”‚  â”œâ”€ role: "admin"
       â”‚  â””â”€ email: "sarah@acme.com"
       â”‚
       â”œâ”€ User 2
       â”‚  â”œâ”€ tenantId: "acme-logistics" â—„â”€â”€ Same tenant
       â”‚  â”œâ”€ role: "driver"
       â”‚  â””â”€ email: "mike@acme.com"
       â”‚
       â””â”€ User 3
          â”œâ”€ tenantId: "beta-delivery" â—„â”€â”€ Different tenant!
          â”œâ”€ role: "admin"
          â””â”€ email: "david@beta.com"
              â”‚
              â”‚ (Users join via invitations)
              â”‚
              â–¼
    ğŸ“ Invitations
       â”œâ”€ Invitation 1
       â”‚  â”œâ”€ tenantId: "acme-logistics" â—„â”€â”€ Links to tenant
       â”‚  â”œâ”€ code: "ABC12XYZ"
       â”‚  â”œâ”€ role: "driver"
       â”‚  â”œâ”€ isUsed: false
       â”‚  â””â”€ expiresAt: "2026-03-05"
       â”‚
       â””â”€ Invitation 2
          â”œâ”€ tenantId: "acme-logistics" â—„â”€â”€ Same tenant
          â”œâ”€ code: "DEF34UVW"
          â”œâ”€ role: "manager"
          â”œâ”€ isUsed: true â—„â”€â”€ Already used
          â””â”€ usedBy: "user-002"
```

---

## Permission Matrix

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  WHO CAN DO WHAT?                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ACTION         â”‚ Admin â”‚ Manager â”‚  Field  â”‚  Other   â”‚
â”‚                     â”‚       â”‚         â”‚Personnelâ”‚ Company  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Register Company    â”‚  âœ…   â”‚   N/A   â”‚   N/A   â”‚    â”€     â”‚
â”‚ Create Invitations  â”‚  âœ…   â”‚   âœ…    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ Delete Invitations  â”‚  âœ…   â”‚   âœ…    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ View Own Company    â”‚  âœ…   â”‚   âœ…    â”‚   âœ…    â”‚    âŒ    â”‚
â”‚ View Other Company  â”‚  âŒ   â”‚   âŒ    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ Manage Users        â”‚  âœ…   â”‚   âŒ    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ Edit Roles          â”‚  âœ…   â”‚   âŒ    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ Company Settings    â”‚  âœ…   â”‚   âŒ    â”‚   âŒ    â”‚    âŒ    â”‚
â”‚ Track Location      â”‚  âœ…   â”‚   âœ…    â”‚   âœ…    â”‚    âŒ    â”‚
â”‚ View Analytics      â”‚  âœ…   â”‚   âœ…    â”‚   âŒ    â”‚    âŒ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
âœ… = Allowed
âŒ = Blocked by Firestore Security Rules
â”€  = Not applicable
```

---

## Invitation Lifecycle

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘               INVITATION CODE LIFECYCLE                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ†• CREATED
       â”‚  Admin creates invitation
       â”‚  Code: "ABC12XYZ"
       â”‚  Status: Active
       â”‚  Expires: 7 days
       â–¼
    ğŸ“¤ SHARED
       â”‚  Admin sends code to employee
       â”‚  Via text/email/chat
       â–¼
    âœ… VALIDATED
       â”‚  Employee enters code
       â”‚  System checks:
       â”‚  â€¢ Code exists?
       â”‚  â€¢ Not expired?
       â”‚  â€¢ Email matches (if specific)?
       â–¼
    ğŸ’¾ USED
       â”‚  Employee completes signup
       â”‚  Code marked as "used"
       â”‚  Cannot be reused
       â–¼
    ğŸ“Š ARCHIVED
       â”‚  Shows in "Used Invitations"
       â”‚  Tracks who used it
       â”‚  Shows usage date
       
    OR
    
    â° EXPIRED
       â”‚  7 days passed
       â”‚  Code becomes invalid
       â”‚  Admin must create new one
       
    OR
    
    ğŸ—‘ï¸ DELETED
       â”‚  Admin cancels invitation
       â”‚  Code immediately invalid
       â”‚  Cannot be recovered
```

---

## Security Layers

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   SECURITY ARCHITECTURE                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Layer 1: Firebase Authentication
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Email/Password                  â”‚
    â”‚  âœ… User must be authenticated      â”‚
    â”‚  âŒ Anonymous access blocked        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    Layer 2: Firestore Security Rules
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… tenantId must match             â”‚
    â”‚  âœ… Role permissions enforced       â”‚
    â”‚  âŒ Cross-tenant access blocked     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    Layer 3: Application Logic
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… UI based on permissions         â”‚
    â”‚  âœ… Queries filtered by tenantId    â”‚
    â”‚  âœ… Role-based feature access       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    Layer 4: Data Validation
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Input validation                â”‚
    â”‚  âœ… Business rules enforcement      â”‚
    â”‚  âœ… Audit logging (future)          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Result: Multi-layered security
            Even if one layer fails, others protect data
```

---

## Real-World Timeline Example

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ACME LOGISTICS ONBOARDING STORY                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Day 1 - Monday 9:00 AM
    ğŸ‘¤ Sarah (Owner) registers "Acme Logistics"
       âœ… Company created
       âœ… Sarah = Admin
    
Day 1 - Monday 10:00 AM
    ğŸ“ Sarah creates 3 invitations:
       â€¢ "ABC12XYZ" for John (Manager)
       â€¢ "DEF34UVW" for Mike (Driver)
       â€¢ "GHI56RST" for Lisa (Driver)
    
Day 1 - Monday 11:00 AM
    ğŸ“§ Sarah texts codes to team
    
Day 1 - Monday 2:00 PM
    ğŸ‘¤ John signs up with "ABC12XYZ"
       âœ… Joined as Manager
       âœ… Code marked "used"
    
Day 2 - Tuesday 8:00 AM
    ğŸ‘¤ Mike signs up with "DEF34UVW"
       âœ… Joined as Field Personnel
       âœ… Code marked "used"
    
Day 3 - Wednesday 10:00 AM
    ğŸ‘¤ John (Manager) creates invitation for Emma
       âœ… "JKL78MNO" for Emma (Driver)
    
Day 3 - Wednesday 3:00 PM
    ğŸ‘¤ Emma signs up with "JKL78MNO"
       âœ… Joined as Field Personnel
    
Day 8 - Next Monday
    â° Code "GHI56RST" expires (unused)
       âŒ Lisa can no longer use it
    
Day 8 - Next Monday 9:00 AM
    ğŸ“ Sarah creates new invitation for Lisa
       âœ… "PQR90STU" for Lisa (Driver)
    
Day 8 - Next Monday 11:00 AM
    ğŸ‘¤ Lisa signs up with new code
       âœ… Joined as Field Personnel
    
Result: Team of 5 people ready to work!
    â€¢ 1 Admin (Sarah)
    â€¢ 1 Manager (John)
    â€¢ 3 Field Personnel (Mike, Lisa, Emma)
```

---

## Troubleshooting Decision Tree

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              TROUBLESHOOTING FLOWCHART                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â“ Cannot sign up
           â”‚
           â”œâ”€â†’ Have invitation code?
           â”‚      â”‚
           â”‚      â”œâ”€â†’ YES â†’ Code not working?
           â”‚      â”‚           â”‚
           â”‚      â”‚           â”œâ”€â†’ Check spelling
           â”‚      â”‚           â”œâ”€â†’ Check expiration
           â”‚      â”‚           â”œâ”€â†’ Ask admin for new code
           â”‚      â”‚           â””â”€â†’ Verify correct email (if specific)
           â”‚      â”‚
           â”‚      â””â”€â†’ NO â†’ Company has domain matching?
           â”‚                 â”‚
           â”‚                 â”œâ”€â†’ YES â†’ Use company email
           â”‚                 â””â”€â†’ NO â†’ Get invitation from admin
           â”‚
           â”œâ”€â†’ Admin cannot create invitation?
           â”‚      â”‚
           â”‚      â””â”€â†’ Check user limit for subscription
           â”‚           (Trial: 5, Basic: 25, Pro: 100)
           â”‚
           â””â”€â†’ Wrong role assigned?
                  â”‚
                  â””â”€â†’ Contact admin to change role
                      in User Management

    â“ Cannot see company data
           â”‚
           â””â”€â†’ Check:
                  â”‚
                  â”œâ”€â†’ Correct company?
                  â”œâ”€â†’ Role has permission?
                  â””â”€â†’ Internet connection?

    â“ Invitation expired
           â”‚
           â””â”€â†’ Admin creates new invitation
                  â”‚
                  â””â”€â†’ Use new code to sign up
```

---

## Summary Cheat Sheet

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    QUICK REFERENCE                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHO DOES WHAT:

âœ… Company Owner (First User):
   â†’ "Register Your Organization"
   â†’ Creates company + admin account together
   â†’ Can invite others

âœ… Employees (After First):
   â†’ Get invitation code from admin
   â†’ Enter code during signup
   â†’ Join company automatically

âœ… Admins:
   â†’ Create invitations
   â†’ Manage users
   â†’ Configure company
   â†’ View everything

âœ… Managers:
   â†’ Create invitations (limited)
   â†’ View team data
   â†’ Manage geofences

âœ… Field Personnel:
   â†’ Track location
   â†’ View assignments
   â†’ Cannot manage others

KEY PRINCIPLES:

1ï¸âƒ£ Organization = Created with first admin
2ï¸âƒ£ Everyone else = Joins via invitation
3ï¸âƒ£ One invitation = One person
4ï¸âƒ£ Invitations = Expire after 7 days
5ï¸âƒ£ All data = Isolated by company
6ï¸âƒ£ Roles = Determine permissions
7ï¸âƒ£ Security = Enforced at database level

COMMON QUESTIONS:

Q: Need invitation to create company?
A: NO! First person registers company.

Q: Can reuse invitation codes?
A: NO! One-time use only.

Q: Can join multiple companies?
A: YES! Use different email or same.

Q: Can change someone's role?
A: YES! Admins can change roles.

Q: What if code expires?
A: Admin creates new code.
```

---

## Next Steps

```
ğŸ“š Read these guides in order:

1. USER_ONBOARDING_GUIDE.md
   â†“ (How users join)
   
2. IMPLEMENTATION_SUMMARY.md
   â†“ (What was built)
   
3. MULTI_TENANT_GUIDE.md
   â†“ (Technical architecture)
   
4. SETUP_CHECKLIST.md
   â†“ (Deployment steps)
   
5. FIREBASE_RULES_SETUP.md
   â†“ (Security configuration)

ğŸš€ Then deploy and test!
```
